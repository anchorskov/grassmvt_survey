=== Test 1: Signup #1 ===
HTTP/1.1 200 OK
Content-Length: 11
Content-Type: application/json
Set-Cookie: session=5bkcg4lir7ftq5tkm3jdfqok5rr53cu2bxgtphoc; HttpOnly; Max-Age=2592000; Path=/; SameSite=Lax

{"ok":true}

=== Test 2: Signup #2 (same email, different password) ===
HTTP/1.1 409 Conflict
Content-Length: 37
Content-Type: application/json

{"error":"Unable to create account."}

=== Test 3: Login wrong password ===
HTTP/1.1 401 Unauthorized
Content-Length: 32
Content-Type: application/json

{"error":"Invalid credentials."}

=== Test 4: Login non-existent email ===
HTTP/1.1 401 Unauthorized
Content-Length: 32
Content-Type: application/json

{"error":"Invalid credentials."}
=== SERVER LOGS ===
[wrangler:info] POST /api/auth/signup 200 OK (95ms) - Signup #1 successful
[wrangler:info] POST /api/auth/signup 409 Conflict (13ms) - Signup #2 blocked (duplicate email)
[wrangler:info] POST /api/auth/login 401 Unauthorized (63ms) - Wrong password attempt
[wrangler:info] POST /api/auth/login 401 Unauthorized (19ms) - Non-existent email attempt

=== TEST RESULTS ===

A) HTTP Status Codes and Response Bodies:

Test 1 - Signup #1:
  Status: 200 OK
  Body: {"ok":true}

Test 2 - Signup #2 (same email, different password):
  Status: 409 Conflict
  Body: {"error":"Unable to create account."}

Test 3 - Login with wrong password:
  Status: 401 Unauthorized
  Body: {"error":"Invalid credentials."}

Test 4 - Login with non-existent email:
  Status: 401 Unauthorized
  Body: {"error":"Invalid credentials."}

B) Duplicate Signup Blocked:
   YES - Test 2 returned 409 Conflict with error message "Unable to create account."

C) Wrong-Password and Non-Existent-Email Return Same Message:
   YES - Both tests 3 and 4 return 401 Unauthorized with identical message: "Invalid credentials."
   This is the preferred behavior (no enumeration risk).

D) Relevant Server Log Lines:
   [wrangler:info] POST /api/auth/signup 200 OK (95ms) - First signup allowed
   [wrangler:info] POST /api/auth/signup 409 Conflict (13ms) - Duplicate email rejected
   [wrangler:info] POST /api/auth/login 401 Unauthorized (63ms) - Wrong password returns 401
   [wrangler:info] POST /api/auth/login 401 Unauthorized (19ms) - Non-existent email returns 401
